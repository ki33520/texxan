<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>这样的孩子给我来十打!</title>
		<meta name="format-detection" content="telephone=no" />
		<script type="text/javascript" src="src/js/flexible.min.js"></script>
		<link rel="stylesheet" type="text/css" href="src/css/main.css">
		<link rel="stylesheet" type="text/css" href="src/css/animate.css">
		<style type="text/css">
			.fall-view{ height: 100%;}
			@keyframes fallDown1 {
				from {
					transform: translate3d(100%, 0, 0);
					visibility: visible;
					opacity: 0;
				}
				10%{
					opacity: 1;
				}
				30%{
					opacity: 1;
					transform: translate3d(-100%, 0, 0);
				}
				70%{
					opacity: 1;
					transform: translate3d(100%, 0, 0);
				}
				90%{
					opacity: 1;
				}
				to {
					transform: translate3d(-100%, 0, 0);
					opacity: 0;
					top: 100%;
				}
			}
			@keyframes fallDown2 {
				from {
					transform: translate3d(-200%, 0, 0);
					visibility: visible;
					opacity: 0;
				}
				10%{
					opacity: 1;
				}
				30%{
					opacity: 1;
					transform: translate3d(200%, 0, 0);
				}
				70%{
					opacity: 1;
					transform: translate3d(-200%, 0, 0);
				}
				90%{
					opacity: 1;
				}
				to {
					transform: translate3d(200%, 0, 0);
					opacity: 0;
					top: 100%;
				}
			}
			@keyframes fallDown3 {
				from {
					transform: translate3d(100%, 0, 0);
					visibility: visible;
					opacity: 0;
				}
				10%{
					opacity: 1;
				}
				30%{
					opacity: 1;
					transform: translate3d(-200%, 0, 0);
				}
				70%{
					opacity: 1;
					transform: translate3d(100%, 0, 0);
				}
				90%{
					opacity: 1;
				}
				to {
					transform: translate3d(-200%, 0, 0);
					opacity: 0;
					top: 100%;
				}
			}

			.fallDown {
				position: absolute;
				opacity: 0;
				animation-timing-function: linear;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<fall-emoji></fall-emoji>
		</div>

		<script type="text/javascript" src="src/js/vue.min.js"></script>
		<script type="text/javascript">
			var fallEmoji = Vue.extend({
				template: '<div class="fall-view">\
					<span v-for="(el,key) in emojis" v-bind:style="el" class="fallDown animated"><img src="src/images/emoji.png"></span>\
				</div>',
				data: function(){
					return {
						count: 15
					}
				},
				computed: {
					emojis: function(){
						var arr = [];
						for(var i=0; i<this.count; i++){
							var styleObj = {
								left: parseInt(Math.random()*77+10)+'%',
								top: parseInt(Math.random()*12+3)+'%',
								'animation-duration': (Math.random()*3+2).toFixed(3)+'s',
								'animation-delay': (Math.random()*3).toFixed(3)+'s',
								'animation-name': 'fallDown'+parseInt(Math.random()*3+1)
							}
							console.log(styleObj)
							arr.push(styleObj)
						}
						return arr;
					}
				}
			});
			new Vue({
				el: '#app',
				components: {
					'fall-emoji': fallEmoji
				},
				mounted: function(){

				}
			})
		</script>
	</body>
</html>