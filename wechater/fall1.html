<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>这样的孩子给我来十打!</title>
		<meta name="format-detection" content="telephone=no" />
		<script type="text/javascript" src="src/js/flexible.min.js"></script>
		<link rel="stylesheet" type="text/css" href="src/css/main.css">
		<link rel="stylesheet" type="text/css" href="src/css/animate.css">
		<style type="text/css">
			*{margin: 0;padding: 0}
html,body{
	width: 100%;
	height: 100%;
}
#container{
	width: 100%;
	height: 100%;
	position: relative;
	overflow: hidden;
}
#leafContainer{
	width: 60%;
	height: 100%;
	position: relative;
}
#leafContainer>div{
	position: absolute;
	width: 0.44rem;
	height: 0.44rem;
	-webkit-animation-direction:normal,normal;
	-webkit-animation-timing-function:linear,ease-in;
}
#leafContainer>div>img{
	width: 100%;
	height: 100%;
	position: absolute;
	-webkit-animation-iteration-count:infinite;
	-webkit-animation-direction:alternate;
	-webkit-animation-timing-function:ease-in-out;
	-webkit-transform-origin:50% -100%;
}
@-webkit-keyframes fade{
	0%{opacity: 1;}
	95%{opacity:1;}
	100%{opacity: 0;}
}
@-webkit-keyframes drop{
	0%{
		-webkit-transform: translate(0px,-1rem);
	}
	100%{
		-webkit-transform: translate(0px,13rem);
	}
}
@-webkit-keyframes leftRotation{
	0%{
		-webkit-transform: translate(1rem,0);
	}
	100%{
		-webkit-transform: translate(-1rem,0);
	}
}
@-webkit-keyframes rightRRotation{
	0%{
		-webkit-transform: translate(-1rem,0);
	}
	100%{
		-webkit-transform: translate(1rem,0);
	}
}
		</style>
	</head>
	<body>
		<div id="container" class="flex-hv-center">
    		<div id="leafContainer"></div>
    	</div>
		<script type="text/javascript">
			window.onload=function(){
				const count= 15;
				(function init(){
					var container=document.getElementById("leafContainer");
					for (var i = 0; i < count; i++) {
						console.log(count,i)
						container.appendChild(createLeaf());
					};
				})()
				function randomInteger(min,max){
					return parseInt(Math.random()*(max-min)-1)+min;
				}
				function randomFloat(min,max){
					return min+Math.random()*(max-min);
				}
				function durationValue(value)
				{
			    	return value + 's';
				}
				function createLeaf(){
					this.srcs="src/images/emoji.png";
					this.tops="-100px";
					this.lefts=""+randomInteger(0,document.body.clientWidth*0.6)+"px";
					this.imgSpinName=(Math.random()<0.5)?'leftRotation':'rightRotation';
					this.divName="fade,drop";
					this.aniDuration=durationValue(randomFloat(3,4));
					this.imgSpinDuration=durationValue(randomFloat(3,7));
					this.leafDelay=durationValue(randomFloat(0,5));
					var leafDiv=document.createElement('div');
					var leafImage=document.createElement('img');
					leafImage.src=this.srcs;
					leafDiv.style.top=this.tops;
					leafDiv.style.left=this.lefts;
					leafDiv.style.webkitAnimationName=this.divName;
					leafImage.style.webkitAnimationName=this.imgSpinName;
					leafDiv.style.webkitAnimationDuration=this.aniDuration+','+this.aniDuration;
					leafDiv.style.webkitAnimationDelay=this.leafDelay+','+this.leafDelay;
					leafImage.style.webkitAnimationDuration=this.imgSpinDuration;
					leafDiv.appendChild(leafImage);
					return leafDiv;
				}
			}
		</script>
	</body>
</html>