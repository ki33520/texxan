<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>签约模特</title>
		<meta name="format-detection" content="telephone=no" />
		<script type="text/javascript" src="static/js/flexible.min.js"></script>
		<link rel="stylesheet" type="text/css" href="static/css/swiper.min.css">
		<link rel="stylesheet" type="text/css" href="static/css/main.css">
	</head>
	<body>
		<div class="page page-index" id="app-index">
			<Topbar :props-data="topBarData"></Topbar>

			<section class="page-center">
				<Formwrap :props-data="formData"></Formwrap>
			</section>
		</div>


		<script type="text/javascript" src="static/js/vue.min.js"></script>
		<script type="text/javascript" src="static/js/canvas.js"></script>
		<script type="text/javascript" src="static/js/lodash.min.js"></script>
		<script type="text/javascript" src="static/js/axios.min.js"></script>
		<script type="text/javascript" src="static/js/swiper.min.js"></script>
		<script type="text/javascript" src="static/js/distpicker.data.js"></script>
		<script type="text/javascript" src="static/js/distpicker.js"></script>
		<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
		<script type="text/javascript" src="static/js/common.js"></script>
		<script type="text/javascript" src="static/js/laydate.js"></script>
		<script type="text/javascript" src="static/js/main.js"></script>

		<script type="text/x-template" id="topbar-template">
			<div class="topbar flex-hv-center">
				<div class="btn btn-back" v-on:click="handleBack()">
					<i class="icon icon-back"></i>
				</div>
				<div class="flex-item text-center">
					<h2>{{propsData.title || title}}</h2>
				</div>
				<div class="btn flex">
				</div>
			</div>
		</script>
		
					<!-- <div class="items">
						<div class="line">
							<a class="btn-link" v-bind:href="'form_model_2.html?uid='+uid+'&agencysid='+agencysid">经纪公司资料提交</a>
						</div>
					</div> -->
		<script type="text/x-template" id="formwrap-template">
			<div class="form-wrap">
				<div class="form-list">
					<div class="items">
						<div class="line">
							<a class="btn-link" href="form_model.html">模特信息资料提交</a>
						</div>
					</div>
					<div class="items">
						<div class="line">
							<a class="btn-link" href="order_list.html">我的付款订单信息</a>
						</div>
					</div>
				</div>
			</div>
		</script>
		
		<script type="text/javascript">
			var openid;
			if(_basic.QueryString('openid')){
				openid = _basic.QueryString('openid');
				cookie.set({
					openid: _basic.QueryString('openid')
				});
			}else{
				openid = cookie.get('openid') || '';
			}
			if(!openid){
				window.location.href = "http://model.dzhcn.cn/wechat_api/get_openid.php?backurl=http://model.dzhcn.cn/index.html"
			}
			var formListModel = Vue.extend({
				template: '#formwrap-template',
				props: ['propsData'],
				data: function(){
					return {
						uid: '',
						agencysid: '',
						info: null,
					}
				},
				created: function(){
					var self = this;
					$.ajax({
						url: _basic.urlBase,
						type: "post",
						data: {
							type: 'MyInfo',
							openid: openid
						},
						success:function(rep){
							if(rep.status === 1){
								self.uid = rep.data.uid;
								self.agencysid = rep.data.agencysID;
								self.info = rep.data;
							}
						}
					});
				},
				methods: {

				}
			});

			var appVue = new Vue({
				name: 'app-index',
				el: '#app-index',
				components: {
					Topbar: topBarModel.extend({
						template: '#topbar-template'
					}),
					Formwrap: formListModel,
				},
				data: function(){
					return {
						topBarData: {},
						formData: {

						}
					}
				}
			});
		</script>
	</body>
</html>